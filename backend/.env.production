# ============================================================
# Production Environment Variables for WhatsApp SaaS
# Copy this to backend/.env on your EC2 server and fill in values
# ============================================================

# Server
PORT=5000
NODE_ENV=production

# Database (MongoDB running locally on EC2)
MONGODB_URI=mongodb://localhost:27017/whatsapp-saas

# Redis (Redis running locally on EC2)
REDIS_URL=redis://localhost:6379

# JWT — Generate a strong secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_GENERATE_A_STRONG_SECRET
JWT_EXPIRES_IN=7d

# Encryption (32-byte hex key for AES-256) — Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=CHANGE_ME_GENERATE_32_BYTE_HEX_KEY

# ============ Meta / WhatsApp ============
META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
META_CONFIG_ID=your-embedded-signup-config-id
WHATSAPP_APP_SECRET=your-whatsapp-app-secret
WHATSAPP_VERIFY_TOKEN=your-custom-webhook-verify-token

# IMPORTANT: This is the permanent webhook URL — update in Meta App Dashboard too
WEBHOOK_CALLBACK_URL=https://app.karssoft.com/api/v1/webhook

# Frontend URL
FRONTEND_URL=https://app.karssoft.com

# CORS Origins
CORS_ORIGINS=https://app.karssoft.com

# If MongoDB/Redis have auth enabled, use these formats instead:
# MONGODB_URI=mongodb://username:password@localhost:27017/whatsapp-saas?authSource=admin
# REDIS_URL=redis://:yourpassword@localhost:6379

# ============ SMTP / Email ============
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@karssoft.com


# Sandbox mode — set to false in production
SANDBOX_MODE=false
